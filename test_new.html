<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<div id="myChart" style="width: 600px;height:400px;"></div>

<script>
    // var echarts = require('echarts');
    var chartDom = document.getElementById('myChart');
    var myChart = echarts.init(chartDom, 'dark');
    var option;
    const geojsonURLNewhame = 'https://raw.githubusercontent.com/X-Fan-Jack/tube-empower-london-regeneration/jack/data/msoa_geojson_NH_data.geojson';
    var data_geojson;

    myChart.showLoading();

    $.get(geojsonURLNewhame, function (json) {
        myChart.hideLoading();
        data_geojson = JSON.parse(json);
        echarts.registerMap('Newhame', {geoJSON: data_geojson});
        mapOption = {
            tooltip: {
                trigger: 'item',
                showDelay: 0,
                transitionDuration: 0.2
            },
            visualMap: {
                left: 'right',
                min: -1,
                max: 1,
                inRange: {
                    color: [
                        '#313695',
                        '#abd9e9',
                        '#e0f3f8',
                        '#ffffbf',
                        '#fee090',
                        '#a50026'
                    ]
                },
                text: ['High', 'Low'],
                calculable: true
            },
            toolbox: {
                show: true,
                //orient: 'vertical',
                left: 'left',
                top: 'top',
                feature: {
                    dataView: { readOnly: false },
                    restore: {},
                    saveAsImage: {}
                }
            },
            series: [
                {
                    name: 'USA PopEstimates',
                    type: 'map',
                    roam: true,
                    map: 'Newhame',
                    emphasis: {
                        label: {
                            show: true
                        }
                    },
                }
            ]
        };
        myChart.setOption(mapOption);
    });

</script>

</body>
</html>